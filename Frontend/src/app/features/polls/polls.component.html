<div class="p-6">
  <h2 class="text-2xl font-bold mb-4 text-white">Encuestas</h2>

  @for (poll of polls; track poll.id) {
    <div class="bg-gray-800 text-white p-4 rounded shadow mb-6">
      <h3 class="text-xl font-semibold mb-2">{{ poll.title }}</h3>
      <p class="mb-3 text-gray-400">{{ poll.description }}</p>

      @if (!votedPolls.has(poll.id)) {
        @for (option of poll.options; track option.id) {
          <div class="mb-2">
            <button
              (click)="vote(poll.id, option.id)"
              class="bg-blue-600 hover:bg-blue-500 px-3 py-1 rounded"
            >
              {{ option.text }}
            </button>
          </div>
        }
      } @else {
        <div class="text-green-400">Ya has votado en esta encuesta.</div>
      }
    </div>
  }
</div>
